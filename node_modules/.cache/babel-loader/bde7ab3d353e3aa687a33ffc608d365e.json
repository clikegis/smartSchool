{"remainingRequest":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\src\\views\\Home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\src\\views\\Home\\Home.vue","mtime":1656478422651},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\babel.config.js","mtime":1656398191838},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1hcCBmcm9tICIuLi8uLi9jb21wb25lbnRzL01hcCI7CmltcG9ydCBIZWFkQm94IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvSGVhZEJveCI7CmltcG9ydCBUb29sQmFyIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvVG9vbEJhciI7CmltcG9ydCBDdWdXZWF0aGVyRGlhbG9nIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvV2VhdGhlci9DdWdXZWF0aGVyRGlhbG9nIjsKaW1wb3J0IFRpbWVDaGFuZ2UgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9SZWFsVGltZVNjaG9vbC9UaW1lQ2hhbmdlLnZ1ZSI7CmltcG9ydCBQZW9wbGVUaW1lQ2hhbmdlIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvUmVhbFRpbWVTY2hvb2wvUGVvcGxlVGltZUNoYW5nZS52dWUiOwppbXBvcnQgSGVhdE1hcExhYmVsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvUmVhbFRpbWVTY2hvb2wvSGVhdE1hcExhYmVsLnZ1ZSc7CmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudEZ1bjogIiIKICAgIH07CiAgfSwKCiAgY29tcG9uZW50czogewogICAgQ3VnV2VhdGhlckRpYWxvZywKICAgIFRvb2xCYXIsCiAgICBIZWFkQm94LAogICAgTWFwLAogICAgVGltZUNoYW5nZSwKICAgIFBlb3BsZVRpbWVDaGFuZ2UsCiAgICBIZWF0TWFwTGFiZWwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy4kYnVzLiRvbigiaG9tZUV2ZW50IiwgY3VycmVudEZ1biA9PiB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRGdW4gPT0gY3VycmVudEZ1bikgewogICAgICAgIC8v6YCA5Ye655u45bqU55qE5Yqf6IO9CiAgICAgICAgdGhpcy5kZXN0b3J5UHJldmlvdXMoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHN3aXRjaCAoY3VycmVudEZ1bikgewogICAgICAgIGNhc2UgInJvYWQiOgogICAgICAgICAgLy/pgIDlh7rkuYvliY3nmoTlip/og70KICAgICAgICAgIHRoaXMuZGVzdG9yeVByZXZpb3VzKCk7CiAgICAgICAgICB0aGlzLmN1cnJlbnRGdW4gPSBjdXJyZW50RnVuOyAvL+WcsOWbvuS/ruaUuQoKICAgICAgICAgIHRoaXMuYWRkUm9hZCgibHVuY2giKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJwZW9wbGUiOgogICAgICAgICAgdGhpcy5kZXN0b3J5UHJldmlvdXMoKTsKICAgICAgICAgIHRoaXMuY3VycmVudEZ1biA9IGN1cnJlbnRGdW47CiAgICAgICAgICB0aGlzLmFkZFBlb3BsZUhlYXRNYXAoewogICAgICAgICAgICB0aW1lOiAibW9ybmluZyIsCiAgICAgICAgICAgIGRvbTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2hlYXRNYXAiKQogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7IC4uLm1hcE11dGF0aW9ucyhbImFkZFJvYWQiLCAiZGVzdG9yeVJvYWQiLCAiYWRkUGVvcGxlSGVhdE1hcCIsICJkZXN0b3J5UGVvcGxlRW50aXR5Il0pLAoKICAgIGRlc3RvcnlQcmV2aW91cygpIHsKICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRGdW4pIHsKICAgICAgICBjYXNlICJyb2FkIjoKICAgICAgICAgIHRoaXMuZGVzdG9yeVJvYWQoKTsKICAgICAgICAgIHRoaXMuY3VycmVudEZ1biA9ICIiOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInBlb3BsZSI6CiAgICAgICAgICB0aGlzLmRlc3RvcnlQZW9wbGVFbnRpdHkoKTsKICAgICAgICAgIHRoaXMuY3VycmVudEZ1biA9ICIiOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKCiAgICBwZW9wbGVUaW1lQ2hhbmdlKHRpbWUpIHsKICAgICAgdGhpcy5kZXN0b3J5UGVvcGxlRW50aXR5KCk7CiAgICAgIHRoaXMuYWRkUGVvcGxlSGVhdE1hcCh7CiAgICAgICAgdGltZTogdGltZSwKICAgICAgICBkb206IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNoZWF0TWFwIikKICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA,YADA;;EAEAC;IACA;MACAC;IADA;EAGA,CANA;;EAOAC;IACAC,gBADA;IAEAC,OAFA;IAGAC,OAHA;IAIAC,GAJA;IAKAC,UALA;IAMAC,gBANA;IAOAC;EAPA,CAPA;;EAgBAC;IACA;MACA;QACA;QACA;QACA;MACA;;MACA;QACA;UACA;UACA;UACA,6BAHA,CAIA;;UACA;UACA;;QACA;UACA;UACA;UACA;YACAC,eADA;YAEAC;UAFA;UAIA;;QACA;UACA;MAjBA;IAmBA,CAzBA;EA0BA,CA3CA;;EA4CAC,WACA,iBACA,SADA,EAEA,aAFA,EAGA,kBAHA,EAIA,qBAJA,EADA;;IAOAC;MACA;QACA;UACA;UACA;UACA;;QACA;UACA;UACA;UACA;;QACA;UACA;MAVA;IAYA,CApBA;;IAqBAC;MACA;MACA;QACAJ,UADA;QAEAC;MAFA;IAIA;;EA3BA;AA5CA","names":["name","data","currentFun","components","CugWeatherDialog","ToolBar","HeadBox","Map","TimeChange","PeopleTimeChange","HeatMapLabel","created","time","dom","methods","destoryPrevious","peopleTimeChange"],"sourceRoot":"src/views/Home","sources":["Home.vue"],"sourcesContent":["<template>\r\n  <div id=\"homePage\">\r\n    <v-app>\r\n      <!--  页头    -->\r\n      <v-app-bar app color=\"primary\" dark>\r\n        <HeadBox></HeadBox>\r\n      </v-app-bar>\r\n\r\n      <!--  主体    -->\r\n      <v-main>\r\n        <!--   地图     -->\r\n        <div class=\"mapContainer\">\r\n          <Map></Map>\r\n        </div>\r\n\r\n        <!--   系统工具栏     -->\r\n        <ToolBar> </ToolBar>\r\n\r\n        <!--   天气容器     -->\r\n        <div class=\"WeatherContainer\">\r\n          <CugWeatherDialog></CugWeatherDialog>\r\n        </div>\r\n\r\n        <!-- 道路拥挤度容器 -->\r\n        <transition name=\"timeChangeContainerAni\">\r\n          <div class=\"timeChangeContainer\" v-if=\"currentFun == 'road'\">\r\n            <TimeChange></TimeChange>\r\n          </div>\r\n        </transition>\r\n\r\n        <!-- 人流量 -->\r\n        <transition name=\"peopleTimeChangeContainerAni\">\r\n          <div class=\"peopleTimeChangeContainer\" v-if=\"currentFun == 'people'\">\r\n            <PeopleTimeChange\r\n              @peopleTimeChange=\"peopleTimeChange\"\r\n            ></PeopleTimeChange>\r\n          </div>\r\n        </transition>\r\n\r\n        <div class=\"HeatMapLabelContainer\" v-if=\"currentFun == 'people'\">\r\n          <HeatMapLabel></HeatMapLabel>\r\n        </div>\r\n      </v-main>\r\n    </v-app>\r\n    <div id=\"heatMap\" v-show=\"false\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Map from \"../../components/Map\";\r\nimport HeadBox from \"../../components/HeadBox\";\r\nimport ToolBar from \"../../components/ToolBar\";\r\nimport CugWeatherDialog from \"../../components/Weather/CugWeatherDialog\";\r\nimport TimeChange from \"../../components/RealTimeSchool/TimeChange.vue\";\r\nimport PeopleTimeChange from \"../../components/RealTimeSchool/PeopleTimeChange.vue\";\r\nimport HeatMapLabel from '../../components/RealTimeSchool/HeatMapLabel.vue';\r\nimport { mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    return {\r\n      currentFun: \"\",\r\n    };\r\n  },\r\n  components: {\r\n    CugWeatherDialog,\r\n    ToolBar,\r\n    HeadBox,\r\n    Map,\r\n    TimeChange,\r\n    PeopleTimeChange,\r\n    HeatMapLabel\r\n  },\r\n  created() {\r\n    this.$bus.$on(\"homeEvent\", (currentFun) => {\r\n      if (this.currentFun == currentFun) {\r\n        //退出相应的功能\r\n        this.destoryPrevious();\r\n        return;\r\n      }\r\n      switch (currentFun) {\r\n        case \"road\":\r\n          //退出之前的功能\r\n          this.destoryPrevious();\r\n          this.currentFun = currentFun;\r\n          //地图修改\r\n          this.addRoad(\"lunch\");\r\n          break;\r\n        case \"people\":\r\n          this.destoryPrevious();\r\n          this.currentFun = currentFun;\r\n          this.addPeopleHeatMap({\r\n            time: \"morning\",\r\n            dom: document.querySelector(\"#heatMap\"),\r\n          });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      \"addRoad\",\r\n      \"destoryRoad\",\r\n      \"addPeopleHeatMap\",\r\n      \"destoryPeopleEntity\",\r\n    ]),\r\n    destoryPrevious() {\r\n      switch (this.currentFun) {\r\n        case \"road\":\r\n          this.destoryRoad();\r\n          this.currentFun = \"\";\r\n          break;\r\n        case \"people\":\r\n          this.destoryPeopleEntity();\r\n          this.currentFun = \"\";\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    peopleTimeChange(time) {\r\n      this.destoryPeopleEntity();\r\n      this.addPeopleHeatMap({\r\n        time: time,\r\n        dom: document.querySelector(\"#heatMap\"),\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.mapContainer {\r\n  position: absolute;\r\n  margin: 0;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.WeatherContainer {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n}\r\n\r\n/* 时间切换位置 */\r\n.timeChangeContainer {\r\n  position: absolute;\r\n  right: 3vw;\r\n  top: 5vh;\r\n}\r\n\r\n.timeChangeContainerAni-enter,\r\n.timeChangeContainerAni-leave-to {\r\n  transform: translateX(400px);\r\n  opacity: 0;\r\n}\r\n\r\n.timeChangeContainerAni-enter-active {\r\n  transition: all 1s;\r\n}\r\n\r\n.timeChangeContainerAni-leave-active {\r\n  transition: all 0.5s;\r\n}\r\n\r\n.timeChangeContainerAni-enter-to {\r\n  opacity: 1;\r\n}\r\n\r\n#heatMap {\r\n  width: 400px;\r\n  height: 400px;\r\n}\r\n\r\n/* 人流量 */\r\n.peopleTimeChangeContainer {\r\n  position: absolute;\r\n  right: 3vw;\r\n  top: 5vh;\r\n}\r\n/* 热力图标签 */\r\n.HeatMapLabelContainer{\r\n  position: absolute;\r\n  right: 3vw;\r\n  bottom: 5vh;\r\n}\r\n</style>\r\n"]}]}