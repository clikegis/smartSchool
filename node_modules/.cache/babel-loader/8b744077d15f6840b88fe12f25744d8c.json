{"remainingRequest":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\src\\store\\index.js","mtime":1656415681770},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\babel.config.js","mtime":1656398191838},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgVnVleCBmcm9tICJ2dWV4IjsKaW1wb3J0IGgzMzcgZnJvbSAiaGVhdG1hcC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7Cgp2YXIgQ2VzaXVtID0gcmVxdWlyZSgiLi4vLi4vbm9kZV9tb2R1bGVzL2Nlc2l1bS9Tb3VyY2UvQ2VzaXVtLmpzIik7CgpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHZpZXdlcjogbnVsbCwKICAgIHBvc3RVcmw6IHsKICAgICAgcGVvcGxlVXJsOiAiL2pzb24vcGVvcGxlLmpzb24iCiAgICB9LAogICAgcm9hZERTOiBudWxsLAogICAgcGVvcGxlRW50aXR5OiBudWxsCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFZpZXdlcihzdGF0ZSkgewogICAgICBDZXNpdW0uSW9uLmRlZmF1bHRBY2Nlc3NUb2tlbiA9ICJleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcWRHa2lPaUpoWlRJeE1UVm1ZUzFqWkRJeUxUUXhabVF0T1RjeVl5MHdaREF3WkdaaU9UQTJaalVpTENKcFpDSTZOekl3TXprc0ltbGhkQ0k2TVRZek5qTTNNRGc1TTMwLkVOaGUtWnNwOFNQbWk3MUJ6aVBBUDJPdjhucUhabVZwUUpVWUltaVhyMFkiOwogICAgICBzdGF0ZS52aWV3ZXIgPSBuZXcgQ2VzaXVtLlZpZXdlcigiY2VzaXVtQ29udGFpbmVyIiwgewogICAgICAgIGFuaW1hdGlvbjogZmFsc2UsCiAgICAgICAgLy8g6ZqQ6JeP5Yqo55S75o6n5Lu2CiAgICAgICAgYmFzZUxheWVyUGlja2VyOiBmYWxzZSwKICAgICAgICAvLyDpmpDol4/lm77lsYLpgInmi6nmjqfku7ZzdGF0ZQogICAgICAgIGZ1bGxzY3JlZW5CdXR0b246IGZhbHNlLAogICAgICAgIC8vIOmakOiXj+WFqOWxj+aMiemSrgogICAgICAgIHZyQnV0dG9uOiBmYWxzZSwKICAgICAgICAvLyDpmpDol49WUuaMiemSru+8jOm7mOiupGZhbHNlCiAgICAgICAgZ2VvY29kZXI6IGZhbHNlLAogICAgICAgIC8vIOmakOiXj+WcsOWQjeafpeaJvuaOp+S7tgogICAgICAgIGhvbWVCdXR0b246IGZhbHNlLAogICAgICAgIC8vIOmakOiXj0hvbWXmjInpkq4KICAgICAgICBpbmZvQm94OiB0cnVlLAogICAgICAgIC8vIOmakOiXj+eCueWHu+imgee0oOS5i+WQjuaYvuekuueahOS/oeaBr+eql+WPowogICAgICAgIHNjZW5lTW9kZVBpY2tlcjogZmFsc2UsCiAgICAgICAgLy8g6ZqQ6JeP5Zy65pmv5qih5byP6YCJ5oup5o6n5Lu2CiAgICAgICAgc2VsZWN0aW9uSW5kaWNhdG9yOiB0cnVlLAogICAgICAgIC8vIOaYvuekuuWunuS9k+WvueixoemAieaLqeahhu+8jOm7mOiupHRydWUKICAgICAgICB0aW1lbGluZTogZmFsc2UsCiAgICAgICAgLy8g6ZqQ6JeP5pe26Ze057q/5o6n5Lu2CiAgICAgICAgbmF2aWdhdGlvbkhlbHBCdXR0b246IGZhbHNlLAogICAgICAgIC8vIOmakOiXj+W4ruWKqeaMiemSrgogICAgICAgIHNjZW5lM0RPbmx5OiB0cnVlLAogICAgICAgIC8vIOavj+S4quWHoOS9leWunuS+i+WwhuWPquWcqDNE5Lit5ZGI546w77yM5Lul6IqC55yBR1BV5YaF5a2YCiAgICAgICAgc2hvdWxkQW5pbWF0ZTogdHJ1ZSwKICAgICAgICAvLyDlvIDlkK/liqjnlLvoh6rliqjmkq3mlL4KICAgICAgICBzY2VuZU1vZGU6IDMsCiAgICAgICAgLy8g5Yid5aeL5Zy65pmv5qih5byPIDHvvJoyRCAy77yaMkTlvqrnjq8gM++8mjNE77yM6buY6K6kMwogICAgICAgIC8vIOWmguWcuuaZr+S4reeahOWFg+e0oOayoeaciemaj+S7v+ecn+aXtumXtOWPmOWMlu+8jOivt+iAg+iZkeWwhuiuvue9rm1heGltdW1SZW5kZXJUaW1lQ2hhbmdl5Li66L6D6auY55qE5YC877yM5L6L5aaCSW5maW5pdHkKICAgICAgICBtYXhpbXVtUmVuZGVyVGltZUNoYW5nZTogSW5maW5pdHkKICAgICAgfSk7CiAgICAgIHN0YXRlLnZpZXdlci5jZXNpdW1XaWRnZXQuY3JlZGl0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7IC8v6ZqQ6JePY2Vpc3Vt5qCH6K+GCiAgICB9LAoKICAgIGxvYWQzRFRpbGVzKHN0YXRlKSB7CiAgICAgIC8v5Yqg6L29M2R0aWxlc+aooeWeiwogICAgICB2YXIgc2Nob29sVGlsZXNldCA9IG5ldyBDZXNpdW0uQ2VzaXVtM0RUaWxlc2V0KHsKICAgICAgICB1cmw6ICIvYXBpL3RpbGVzZXQuanNvbiIsCiAgICAgICAgbWF4aW11bVNjcmVlblNwYWNlRXJyb3I6IDIsCiAgICAgICAgbWF4aW11bU51bWJlck9mTG9hZGVkVGlsZXM6IDEwMDAwMAogICAgICB9KTsKICAgICAgc2Nob29sVGlsZXNldC5yZWFkeVByb21pc2UudGhlbihzY2hvb2wgPT4gewogICAgICAgIHN0YXRlLnZpZXdlci5zY2VuZS5wcmltaXRpdmVzLmFkZChzY2hvb2wpOwogICAgICAgIHZhciBib3VuZGluZ1NwaGVyZSA9IHNjaG9vbC5ib3VuZGluZ1NwaGVyZTsKICAgICAgICBzdGF0ZS52aWV3ZXIuY2FtZXJhLnZpZXdCb3VuZGluZ1NwaGVyZShib3VuZGluZ1NwaGVyZSwgbmV3IENlc2l1bS5IZWFkaW5nUGl0Y2hSYW5nZSgwLjAsIC0wLjUsIGJvdW5kaW5nU3BoZXJlLnJhZGl1cykpOwogICAgICAgIHN0YXRlLnZpZXdlci5jYW1lcmEubG9va0F0VHJhbnNmb3JtKENlc2l1bS5NYXRyaXg0LklERU5USVRZKTsKICAgICAgICB2YXIgY2FydG9ncmFwaGljID0gQ2VzaXVtLkNhcnRvZ3JhcGhpYy5mcm9tQ2FydGVzaWFuKGJvdW5kaW5nU3BoZXJlLmNlbnRlcik7CiAgICAgICAgdmFyIHN1cmZhY2UgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhjYXJ0b2dyYXBoaWMubG9uZ2l0dWRlLCBjYXJ0b2dyYXBoaWMubGF0aXR1ZGUsIDAuMCk7IC8v5YGP56e75ZCO55qE5Z2Q5qCHCgogICAgICAgIHZhciBvZmZzZXQgPSBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tUmFkaWFucyhjYXJ0b2dyYXBoaWMubG9uZ2l0dWRlLCBjYXJ0b2dyYXBoaWMubGF0aXR1ZGUsIC1jYXJ0b2dyYXBoaWMuaGVpZ2h0ICsgNTApOwogICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IENlc2l1bS5DYXJ0ZXNpYW4zLnN1YnRyYWN0KG9mZnNldCwgc3VyZmFjZSwgbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKCkpOwogICAgICAgIHNjaG9vbC5tb2RlbE1hdHJpeCA9IENlc2l1bS5NYXRyaXg0LmZyb21UcmFuc2xhdGlvbih0cmFuc2xhdGlvbik7CiAgICAgIH0pOwogICAgfSwKCiAgICBhZGRSb2FkKHN0YXRlLCB0aW1lKSB7CiAgICAgIC8v5Yqg5YWl6YGT6LevCiAgICAgIC8v5YWI5Zyo6KeG5Zu+5Lit5Yqg5YWl6YGT6LevZ2VvanNvbuaVsOaNrgogICAgICBsZXQgcHJvbWlzZSA9IENlc2l1bS5HZW9Kc29uRGF0YVNvdXJjZS5sb2FkKCIvZ2VvanNvbi9yb2Fkc1Byb2ouZ2VvanNvbiIsIHsKICAgICAgICBjbGFtcFRvR3JvdW5kOiB0cnVlCiAgICAgIH0pOwogICAgICBwcm9taXNlLnRoZW4oZGF0YVNvdXJjZSA9PiB7CiAgICAgICAgc3RhdGUudmlld2VyLmRhdGFTb3VyY2VzLmFkZChkYXRhU291cmNlKTsKICAgICAgICBzdGF0ZS5yb2FkRFMgPSBkYXRhU291cmNlOyAvL+WIpOaWrXRpbWUKCiAgICAgICAgbGV0IGF0dHIgPSAiIjsKCiAgICAgICAgc3dpdGNoICh0aW1lKSB7CiAgICAgICAgICBjYXNlICJtb3JuaW5nIjoKICAgICAgICAgICAgYXR0ciA9ICJtb3JuaW5namFtIjsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAibHVuY2giOgogICAgICAgICAgICBhdHRyID0gImRpbmx1bmphbSI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgImRpbm5lciI6CiAgICAgICAgICAgIGF0dHIgPSAibmlnaHRqYW0iOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJ1c3VhbCI6CiAgICAgICAgICAgIGF0dHIgPSAidXN1YWxqYW0iOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9IC8v5pu05pS56YGT6Lev6aKc6ImyCgoKICAgICAgICBsZXQgZW50aXRpZXMgPSBkYXRhU291cmNlLmVudGl0aWVzLnZhbHVlczsKICAgICAgICBlbnRpdGllcy5mb3JFYWNoKChlbnRpdHksIGluZGV4KSA9PiB7CiAgICAgICAgICBsZXQgamFtID0gZW50aXR5LnByb3BlcnRpZXNbYXR0cl0udmFsdWVPZigpOwoKICAgICAgICAgIHN3aXRjaCAoamFtKSB7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBlbnRpdHkucG9seWxpbmUubWF0ZXJpYWwgPSBuZXcgQ2VzaXVtLkNvbG9yKDYwIC8gMjU1LjAsIDE3OSAvIDI1NS4wLCAxMTMgLyAyNTUuMCk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgZW50aXR5LnBvbHlsaW5lLm1hdGVyaWFsID0gbmV3IENlc2l1bS5Db2xvcigyNTUgLyAyNTUuMCwgMTQwIC8gMjU1LjAsIDAgLyAyNTUuMCk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgZW50aXR5LnBvbHlsaW5lLm1hdGVyaWFsID0gbmV3IENlc2l1bS5Db2xvcigxLjAsIDAuMCwgMC4wKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIGRlc3RvcnlSb2FkKHN0YXRlKSB7CiAgICAgIHN0YXRlLnZpZXdlci5kYXRhU291cmNlcy5yZW1vdmUoc3RhdGUucm9hZERTKTsKICAgIH0sCgogICAgYXN5bmMgYWRkUGVvcGxlSGVhdE1hcChzdGF0ZSwgewogICAgICB0aW1lLAogICAgICBkb20KICAgIH0pIHsKICAgICAgLy/kurrmtYHph4/ng63lipvlm74KICAgICAgbGV0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChzdGF0ZS5wb3N0VXJsLnBlb3BsZVVybCk7CiAgICAgIGxldCBwZW9wbGUgPSByZXMuZGF0YTsKICAgICAgLyog5aSE55CG5pWw5o2uICovCgogICAgICBsZXQgZGF0YVJhdyA9IFtdOwogICAgICBwZW9wbGUuZm9yRWFjaChwZXJzb24gPT4gewogICAgICAgIGlmIChwZXJzb25bYCR7dGltZX1Ob3RgXSA9PSAiMCIpIHJldHVybjsKICAgICAgICBkYXRhUmF3LnB1c2goewogICAgICAgICAgbGF0OiBwYXJzZUZsb2F0KHBlcnNvbi5QT0lOVF9ZKSwKICAgICAgICAgIGxvbjogcGFyc2VGbG9hdChwZXJzb24uUE9JTlRfWCksCiAgICAgICAgICB2YWx1ZTogcGVyc29uW2Ake3RpbWV9dmFsdWVgXQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgLyog5Yid5aeL5YyW54Ot5Yqb5Zu+6K6+572uICovCiAgICAgIC8vIOiuvue9rumaj+acuuaVsOaNrueCueaVsOmHjwoKICAgICAgbGV0IGxlbiA9IGRhdGFSYXcubGVuZ3RoOyAvLyDmnoTlu7rpmo/mnLrmlbDmja7ngrkKCiAgICAgIGxldCBwb2ludHMgPSBbXTsgLy8g6K6+572u5pyA5aSn5YC8CgogICAgICBsZXQgbWF4ID0gMzAwOyAvLyDorr7nva7ng63lipvlm77lrr3luqblkozpq5jluqYKCiAgICAgIGxldCB3aWR0aCA9IDQwMDsKICAgICAgbGV0IGhlaWdodCA9IDQwMDsgLy8g6K6+572u57qs5bqm5pyA5L2O54K55ZKM5pyA6auY54K5CgogICAgICBsZXQgbGF0TWluID0gMzAuNDU3OwogICAgICBsZXQgbGF0TWF4ID0gMzAuNDYzOyAvLyDorr7nva7nu4/luqbmnIDkvY7ngrnlkozmnIDpq5jngrkKCiAgICAgIGxldCBsb25NaW4gPSAxMTQuNjA5OwogICAgICBsZXQgbG9uTWF4ID0gMTE0LjYxODsgLy8g5bCG5q+P5Liq54K555qE5YWD57Sg77yI5bGe5oCn77yf77yJ6L2s5o2i5Li65Yib5bu6aDMzN+WvueixoeWNs+eDreWKm+WbvuWunuS+i+aJgOmcgOeahOaVsOaNruagvOW8jwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgIC8vIOS8oOi/m+WOn+Wni+aVsOaNrgogICAgICAgIGxldCBkYXRhSXRlbSA9IGRhdGFSYXdbaV07CiAgICAgICAgbGV0IHBvaW50ID0gewogICAgICAgICAgLy8g5bCG5pWw5o2u54K557uP57qs5bqm562J5q+U5L6L6K6+572u5oiQ55+p5b2i5Lit55qEeCB55Z2Q5qCHIOWAvOS4uuWOn+Wni+aVsOaNrueahOWAvAogICAgICAgICAgeDogTWF0aC5mbG9vcigoZGF0YUl0ZW0ubGF0IC0gbGF0TWluKSAvIChsYXRNYXggLSBsYXRNaW4pICogd2lkdGgpLAogICAgICAgICAgeTogTWF0aC5mbG9vcigoZGF0YUl0ZW0ubG9uIC0gbG9uTWluKSAvIChsb25NYXggLSBsb25NaW4pICogaGVpZ2h0KSwKICAgICAgICAgIHZhbHVlOiBkYXRhSXRlbS52YWx1ZQogICAgICAgIH07IC8vIOavlOi+g+iuvue9rueahOacgOWkp+WAvOWSjOWOn+Wni+aVsOaNruWAvOWkp+WwjyDlj5bkuKTogIXpl7TnmoTmnIDlpKflgLwKCiAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCBkYXRhSXRlbS52YWx1ZSk7IC8vIOWwhui9rOaNouWlveWQjueahOaVsOaNruWtmOWFpeaVsOe7hAoKICAgICAgICBwb2ludHMucHVzaChwb2ludCk7CiAgICAgIH0gLy8g5Yib5bu654Ot5Yqb5Zu+5a6e5L6LCgoKICAgICAgbGV0IGhlYXRNYXBJbnN0YW5jZSA9IGgzMzcuY3JlYXRlKHsKICAgICAgICBjb250YWluZXI6IGRvbQogICAgICB9KTsgLy8g6K6+572u5Lyg5YWl5a6e5L6L55qE5pWw5o2uCgogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBtYXg6IG1heCwKICAgICAgICBkYXRhOiBwb2ludHMKICAgICAgfTsgLy8g5paw5bu654Ot5Yqb5Zu+5a6e5L6L5bm25Lyg5YWl6K6+572u5aW955qE5pWw5o2uCgogICAgICBoZWF0TWFwSW5zdGFuY2Uuc2V0RGF0YShkYXRhKTsKICAgICAgLyog5oqK54Ot5Yqb5Zu+6ZO65Yiw5Zyw55CD5LiKICovCiAgICAgIC8vIOiuvue9rueUu+W4g+S4uueUn+aIkOeahOeDreWKm+WbvgoKICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImhlYXRtYXAtY2FudmFzIik7IC8vIOaOp+WItuWPsOi+k+WHuueUu+W4g+aVsOaNrgogICAgICAvLyDmt7vliqDng63lipvlm77lrp7kvosKCiAgICAgIHN0YXRlLnBlb3BsZUVudGl0eSA9IHN0YXRlLnZpZXdlci5lbnRpdGllcy5hZGQoewogICAgICAgIG5hbWU6ICJoZWF0bWFwIiwKICAgICAgICAvLyDorr7nva7nn6nlvaIKICAgICAgICByZWN0YW5nbGU6IHsKICAgICAgICAgIC8vIOaMh+WumuefqeW9ouWMuuWfnwogICAgICAgICAgY29vcmRpbmF0ZXM6IENlc2l1bS5SZWN0YW5nbGUuZnJvbURlZ3JlZXMobG9uTWluLCBsYXRNaW4sIGxvbk1heCwgbGF0TWF4KSwKICAgICAgICAgIC8vIOiuvue9ruefqeW9ouWbvueJh+S4uuaNrumAj+aYjuW6pueahOeDreWKm+WbvgogICAgICAgICAgbWF0ZXJpYWw6IG5ldyBDZXNpdW0uSW1hZ2VNYXRlcmlhbFByb3BlcnR5KHsKICAgICAgICAgICAgaW1hZ2U6IGNhbnZhc1swXSwKICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRydWUKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgZGVzdG9yeVBlb3BsZUVudGl0eShzdGF0ZSkgewogICAgICBzdGF0ZS52aWV3ZXIuZW50aXRpZXMucmVtb3ZlKHN0YXRlLnBlb3BsZUVudGl0eSk7CiAgICB9CgogIH0sCiAgYWN0aW9uczoge30sCiAgbW9kdWxlczoge30KfSk7"},{"version":3,"names":["Vue","Vuex","h337","axios","Cesium","require","use","Store","state","viewer","postUrl","peopleUrl","roadDS","peopleEntity","mutations","setViewer","Ion","defaultAccessToken","Viewer","animation","baseLayerPicker","fullscreenButton","vrButton","geocoder","homeButton","infoBox","sceneModePicker","selectionIndicator","timeline","navigationHelpButton","scene3DOnly","shouldAnimate","sceneMode","maximumRenderTimeChange","Infinity","cesiumWidget","creditContainer","style","display","load3DTiles","schoolTileset","Cesium3DTileset","url","maximumScreenSpaceError","maximumNumberOfLoadedTiles","readyPromise","then","school","scene","primitives","add","boundingSphere","camera","viewBoundingSphere","HeadingPitchRange","radius","lookAtTransform","Matrix4","IDENTITY","cartographic","Cartographic","fromCartesian","center","surface","Cartesian3","fromRadians","longitude","latitude","offset","height","translation","subtract","modelMatrix","fromTranslation","addRoad","time","promise","GeoJsonDataSource","load","clampToGround","dataSource","dataSources","attr","entities","values","forEach","entity","index","jam","properties","valueOf","polyline","material","Color","destoryRoad","remove","addPeopleHeatMap","dom","res","get","people","data","dataRaw","person","push","lat","parseFloat","POINT_Y","lon","POINT_X","value","len","length","points","max","width","latMin","latMax","lonMin","lonMax","i","dataItem","point","x","Math","floor","y","heatMapInstance","create","container","setData","canvas","document","getElementsByClassName","name","rectangle","coordinates","Rectangle","fromDegrees","ImageMaterialProperty","image","transparent","destoryPeopleEntity","actions","modules"],"sources":["C:/Users/20606/Desktop/课程/三维GIS原理与应用/smartSchool/src/store/index.js"],"sourcesContent":["import Vue from \"vue\";\r\nimport Vuex from \"vuex\";\r\nimport h337 from \"heatmap.js\";\r\nimport axios from \"axios\";\r\n\r\nvar Cesium = require(\"../../node_modules/cesium/Source/Cesium.js\");\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    viewer: null,\r\n    postUrl: {\r\n      peopleUrl: \"/json/people.json\",\r\n    },\r\n    roadDS: null,\r\n    peopleEntity:null\r\n  },\r\n  mutations: {\r\n    setViewer(state) {\r\n      Cesium.Ion.defaultAccessToken =\r\n        \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhZTIxMTVmYS1jZDIyLTQxZmQtOTcyYy0wZDAwZGZiOTA2ZjUiLCJpZCI6NzIwMzksImlhdCI6MTYzNjM3MDg5M30.ENhe-Zsp8SPmi71BziPAP2Ov8nqHZmVpQJUYImiXr0Y\";\r\n      state.viewer = new Cesium.Viewer(\"cesiumContainer\", {\r\n        animation: false, // 隐藏动画控件\r\n        baseLayerPicker: false, // 隐藏图层选择控件state\r\n        fullscreenButton: false, // 隐藏全屏按钮\r\n        vrButton: false, // 隐藏VR按钮，默认false\r\n        geocoder: false, // 隐藏地名查找控件\r\n        homeButton: false, // 隐藏Home按钮\r\n        infoBox: true, // 隐藏点击要素之后显示的信息窗口\r\n        sceneModePicker: false, // 隐藏场景模式选择控件\r\n        selectionIndicator: true, // 显示实体对象选择框，默认true\r\n        timeline: false, // 隐藏时间线控件\r\n        navigationHelpButton: false, // 隐藏帮助按钮\r\n        scene3DOnly: true, // 每个几何实例将只在3D中呈现，以节省GPU内存\r\n        shouldAnimate: true, // 开启动画自动播放\r\n        sceneMode: 3, // 初始场景模式 1：2D 2：2D循环 3：3D，默认3\r\n        // 如场景中的元素没有随仿真时间变化，请考虑将设置maximumRenderTimeChange为较高的值，例如Infinity\r\n        maximumRenderTimeChange: Infinity,\r\n      });\r\n      state.viewer.cesiumWidget.creditContainer.style.display = \"none\"; //隐藏ceisum标识\r\n    },\r\n    load3DTiles(state) {\r\n      //加载3dtiles模型\r\n      var schoolTileset = new Cesium.Cesium3DTileset({\r\n        url: \"/api/tileset.json\",\r\n        maximumScreenSpaceError: 2,\r\n        maximumNumberOfLoadedTiles: 100000,\r\n      });\r\n\r\n      schoolTileset.readyPromise.then((school) => {\r\n        state.viewer.scene.primitives.add(school);\r\n        var boundingSphere = school.boundingSphere;\r\n        state.viewer.camera.viewBoundingSphere(\r\n          boundingSphere,\r\n          new Cesium.HeadingPitchRange(0.0, -0.5, boundingSphere.radius)\r\n        );\r\n        state.viewer.camera.lookAtTransform(Cesium.Matrix4.IDENTITY);\r\n\r\n\r\n\r\n        var cartographic = Cesium.Cartographic.fromCartesian(\r\n          boundingSphere.center\r\n        );\r\n        var surface = Cesium.Cartesian3.fromRadians(\r\n          cartographic.longitude,\r\n          cartographic.latitude,\r\n          0.0\r\n        );\r\n        //偏移后的坐标\r\n        var offset = Cesium.Cartesian3.fromRadians(\r\n          cartographic.longitude,\r\n          cartographic.latitude,\r\n            -cartographic.height + 50\r\n        );\r\n        var translation = Cesium.Cartesian3.subtract(\r\n          offset,\r\n          surface,\r\n          new Cesium.Cartesian3()\r\n        );\r\n        school.modelMatrix = Cesium.Matrix4.fromTranslation(translation);\r\n      });\r\n    },\r\n    addRoad(state, time) {\r\n      //加入道路\r\n      //先在视图中加入道路geojson数据\r\n      let promise = Cesium.GeoJsonDataSource.load(\r\n        \"/geojson/roadsProj.geojson\",\r\n        {\r\n          clampToGround: true,\r\n        }\r\n      );\r\n      promise.then((dataSource) => {\r\n        state.viewer.dataSources.add(dataSource);\r\n        state.roadDS = dataSource;\r\n        //判断time\r\n        let attr = \"\";\r\n        switch (time) {\r\n          case \"morning\":\r\n            attr = \"morningjam\";\r\n            break;\r\n          case \"lunch\":\r\n            attr = \"dinlunjam\";\r\n            break;\r\n          case \"dinner\":\r\n            attr = \"nightjam\";\r\n            break;\r\n          case \"usual\":\r\n            attr = \"usualjam\";\r\n            break;\r\n        }\r\n        //更改道路颜色\r\n        let entities = dataSource.entities.values;\r\n        entities.forEach((entity, index) => {\r\n          let jam = entity.properties[attr].valueOf();\r\n          switch (jam) {\r\n            case 1:\r\n              entity.polyline.material = new Cesium.Color(\r\n                60 / 255.0,\r\n                179 / 255.0,\r\n                113 / 255.0\r\n              );\r\n              break;\r\n            case 2:\r\n              entity.polyline.material = new Cesium.Color(\r\n                255 / 255.0,\r\n                140 / 255.0,\r\n                0 / 255.0\r\n              );\r\n              break;\r\n            case 3:\r\n              entity.polyline.material = new Cesium.Color(1.0, 0.0, 0.0);\r\n              break;\r\n          }\r\n        });\r\n      });\r\n    },\r\n    destoryRoad(state) {\r\n      state.viewer.dataSources.remove(state.roadDS);\r\n    },\r\n    async addPeopleHeatMap(state, { time, dom }) {\r\n      //人流量热力图\r\n      let res = await axios.get(state.postUrl.peopleUrl);\r\n      let people = res.data;\r\n      /* 处理数据 */\r\n      let dataRaw = [];\r\n      people.forEach((person) => {\r\n        if(person[`${time}Not`]==\"0\") return;\r\n        dataRaw.push({\r\n          lat: parseFloat(person.POINT_Y),\r\n          lon: parseFloat(person.POINT_X),\r\n          value: person[`${time}value`],\r\n        });\r\n      });\r\n      /* 初始化热力图设置 */\r\n      // 设置随机数据点数量\r\n      let len = dataRaw.length;\r\n      // 构建随机数据点\r\n      let points = [];\r\n      // 设置最大值\r\n      let max = 300;\r\n      // 设置热力图宽度和高度\r\n      let width = 400;\r\n      let height = 400;\r\n      // 设置纬度最低点和最高点\r\n      let latMin = 30.457;\r\n      let latMax = 30.463;\r\n      // 设置经度最低点和最高点\r\n      let lonMin = 114.609;\r\n      let lonMax = 114.618;\r\n      // 将每个点的元素（属性？）转换为创建h337对象即热力图实例所需的数据格式\r\n      for (let i = 0; i < len; i++) {\r\n        // 传进原始数据\r\n        let dataItem = dataRaw[i];\r\n        let point = {\r\n          // 将数据点经纬度等比例设置成矩形中的x y坐标 值为原始数据的值\r\n          x: Math.floor(((dataItem.lat - latMin) / (latMax - latMin)) * width),\r\n          y: Math.floor(((dataItem.lon - lonMin) / (lonMax - lonMin)) * height),\r\n          value: dataItem.value,\r\n        };\r\n        // 比较设置的最大值和原始数据值大小 取两者间的最大值\r\n        max = Math.max(max, dataItem.value);\r\n        // 将转换好后的数据存入数组\r\n        points.push(point);\r\n      }\r\n      // 创建热力图实例\r\n      let heatMapInstance = h337.create({\r\n        container: dom,\r\n      });\r\n      // 设置传入实例的数据\r\n      let data = {\r\n        max: max,\r\n        data: points,\r\n      };\r\n      // 新建热力图实例并传入设置好的数据\r\n      heatMapInstance.setData(data);\r\n      /* 把热力图铺到地球上 */\r\n      // 设置画布为生成的热力图\r\n      let canvas = document.getElementsByClassName(\"heatmap-canvas\");\r\n      // 控制台输出画布数据\r\n      // 添加热力图实例\r\n      state.peopleEntity = state.viewer.entities.add({\r\n        name: \"heatmap\",\r\n        // 设置矩形\r\n        rectangle: {\r\n          // 指定矩形区域\r\n          coordinates: Cesium.Rectangle.fromDegrees(\r\n            lonMin,\r\n            latMin,\r\n            lonMax,\r\n            latMax\r\n          ),\r\n          // 设置矩形图片为据透明度的热力图\r\n          material: new Cesium.ImageMaterialProperty({\r\n            image: canvas[0],\r\n            transparent: true,\r\n          }),\r\n        },\r\n      });\r\n    },\r\n    destoryPeopleEntity(state){\r\n      state.viewer.entities.remove(state.peopleEntity);\r\n    }\r\n  },\r\n  actions: {},\r\n  modules: {},\r\n});\r\n"],"mappings":"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"}]}