{"remainingRequest":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\src\\views\\Home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\src\\views\\Home\\Home.vue","mtime":1656478422651},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\20606\\Desktop\\课程\\三维GIS原理与应用\\smartSchool\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWFwIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvTWFwIjsNCmltcG9ydCBIZWFkQm94IGZyb20gIi4uLy4uL2NvbXBvbmVudHMvSGVhZEJveCI7DQppbXBvcnQgVG9vbEJhciBmcm9tICIuLi8uLi9jb21wb25lbnRzL1Rvb2xCYXIiOw0KaW1wb3J0IEN1Z1dlYXRoZXJEaWFsb2cgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9XZWF0aGVyL0N1Z1dlYXRoZXJEaWFsb2ciOw0KaW1wb3J0IFRpbWVDaGFuZ2UgZnJvbSAiLi4vLi4vY29tcG9uZW50cy9SZWFsVGltZVNjaG9vbC9UaW1lQ2hhbmdlLnZ1ZSI7DQppbXBvcnQgUGVvcGxlVGltZUNoYW5nZSBmcm9tICIuLi8uLi9jb21wb25lbnRzL1JlYWxUaW1lU2Nob29sL1Blb3BsZVRpbWVDaGFuZ2UudnVlIjsNCmltcG9ydCBIZWF0TWFwTGFiZWwgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9SZWFsVGltZVNjaG9vbC9IZWF0TWFwTGFiZWwudnVlJzsNCmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiSG9tZSIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGN1cnJlbnRGdW46ICIiLA0KICAgIH07DQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBDdWdXZWF0aGVyRGlhbG9nLA0KICAgIFRvb2xCYXIsDQogICAgSGVhZEJveCwNCiAgICBNYXAsDQogICAgVGltZUNoYW5nZSwNCiAgICBQZW9wbGVUaW1lQ2hhbmdlLA0KICAgIEhlYXRNYXBMYWJlbA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuJGJ1cy4kb24oImhvbWVFdmVudCIsIChjdXJyZW50RnVuKSA9PiB7DQogICAgICBpZiAodGhpcy5jdXJyZW50RnVuID09IGN1cnJlbnRGdW4pIHsNCiAgICAgICAgLy/pgIDlh7rnm7jlupTnmoTlip/og70NCiAgICAgICAgdGhpcy5kZXN0b3J5UHJldmlvdXMoKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgc3dpdGNoIChjdXJyZW50RnVuKSB7DQogICAgICAgIGNhc2UgInJvYWQiOg0KICAgICAgICAgIC8v6YCA5Ye65LmL5YmN55qE5Yqf6IO9DQogICAgICAgICAgdGhpcy5kZXN0b3J5UHJldmlvdXMoKTsNCiAgICAgICAgICB0aGlzLmN1cnJlbnRGdW4gPSBjdXJyZW50RnVuOw0KICAgICAgICAgIC8v5Zyw5Zu+5L+u5pS5DQogICAgICAgICAgdGhpcy5hZGRSb2FkKCJsdW5jaCIpOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICJwZW9wbGUiOg0KICAgICAgICAgIHRoaXMuZGVzdG9yeVByZXZpb3VzKCk7DQogICAgICAgICAgdGhpcy5jdXJyZW50RnVuID0gY3VycmVudEZ1bjsNCiAgICAgICAgICB0aGlzLmFkZFBlb3BsZUhlYXRNYXAoew0KICAgICAgICAgICAgdGltZTogIm1vcm5pbmciLA0KICAgICAgICAgICAgZG9tOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjaGVhdE1hcCIpLA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIGJyZWFrOw0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwTXV0YXRpb25zKFsNCiAgICAgICJhZGRSb2FkIiwNCiAgICAgICJkZXN0b3J5Um9hZCIsDQogICAgICAiYWRkUGVvcGxlSGVhdE1hcCIsDQogICAgICAiZGVzdG9yeVBlb3BsZUVudGl0eSIsDQogICAgXSksDQogICAgZGVzdG9yeVByZXZpb3VzKCkgew0KICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRGdW4pIHsNCiAgICAgICAgY2FzZSAicm9hZCI6DQogICAgICAgICAgdGhpcy5kZXN0b3J5Um9hZCgpOw0KICAgICAgICAgIHRoaXMuY3VycmVudEZ1biA9ICIiOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlICJwZW9wbGUiOg0KICAgICAgICAgIHRoaXMuZGVzdG9yeVBlb3BsZUVudGl0eSgpOw0KICAgICAgICAgIHRoaXMuY3VycmVudEZ1biA9ICIiOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgIGJyZWFrOw0KICAgICAgfQ0KICAgIH0sDQogICAgcGVvcGxlVGltZUNoYW5nZSh0aW1lKSB7DQogICAgICB0aGlzLmRlc3RvcnlQZW9wbGVFbnRpdHkoKTsNCiAgICAgIHRoaXMuYWRkUGVvcGxlSGVhdE1hcCh7DQogICAgICAgIHRpbWU6IHRpbWUsDQogICAgICAgIGRvbTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2hlYXRNYXAiKSwNCiAgICAgIH0pOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/Home","sourcesContent":["<template>\r\n  <div id=\"homePage\">\r\n    <v-app>\r\n      <!--  页头    -->\r\n      <v-app-bar app color=\"primary\" dark>\r\n        <HeadBox></HeadBox>\r\n      </v-app-bar>\r\n\r\n      <!--  主体    -->\r\n      <v-main>\r\n        <!--   地图     -->\r\n        <div class=\"mapContainer\">\r\n          <Map></Map>\r\n        </div>\r\n\r\n        <!--   系统工具栏     -->\r\n        <ToolBar> </ToolBar>\r\n\r\n        <!--   天气容器     -->\r\n        <div class=\"WeatherContainer\">\r\n          <CugWeatherDialog></CugWeatherDialog>\r\n        </div>\r\n\r\n        <!-- 道路拥挤度容器 -->\r\n        <transition name=\"timeChangeContainerAni\">\r\n          <div class=\"timeChangeContainer\" v-if=\"currentFun == 'road'\">\r\n            <TimeChange></TimeChange>\r\n          </div>\r\n        </transition>\r\n\r\n        <!-- 人流量 -->\r\n        <transition name=\"peopleTimeChangeContainerAni\">\r\n          <div class=\"peopleTimeChangeContainer\" v-if=\"currentFun == 'people'\">\r\n            <PeopleTimeChange\r\n              @peopleTimeChange=\"peopleTimeChange\"\r\n            ></PeopleTimeChange>\r\n          </div>\r\n        </transition>\r\n\r\n        <div class=\"HeatMapLabelContainer\" v-if=\"currentFun == 'people'\">\r\n          <HeatMapLabel></HeatMapLabel>\r\n        </div>\r\n      </v-main>\r\n    </v-app>\r\n    <div id=\"heatMap\" v-show=\"false\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Map from \"../../components/Map\";\r\nimport HeadBox from \"../../components/HeadBox\";\r\nimport ToolBar from \"../../components/ToolBar\";\r\nimport CugWeatherDialog from \"../../components/Weather/CugWeatherDialog\";\r\nimport TimeChange from \"../../components/RealTimeSchool/TimeChange.vue\";\r\nimport PeopleTimeChange from \"../../components/RealTimeSchool/PeopleTimeChange.vue\";\r\nimport HeatMapLabel from '../../components/RealTimeSchool/HeatMapLabel.vue';\r\nimport { mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    return {\r\n      currentFun: \"\",\r\n    };\r\n  },\r\n  components: {\r\n    CugWeatherDialog,\r\n    ToolBar,\r\n    HeadBox,\r\n    Map,\r\n    TimeChange,\r\n    PeopleTimeChange,\r\n    HeatMapLabel\r\n  },\r\n  created() {\r\n    this.$bus.$on(\"homeEvent\", (currentFun) => {\r\n      if (this.currentFun == currentFun) {\r\n        //退出相应的功能\r\n        this.destoryPrevious();\r\n        return;\r\n      }\r\n      switch (currentFun) {\r\n        case \"road\":\r\n          //退出之前的功能\r\n          this.destoryPrevious();\r\n          this.currentFun = currentFun;\r\n          //地图修改\r\n          this.addRoad(\"lunch\");\r\n          break;\r\n        case \"people\":\r\n          this.destoryPrevious();\r\n          this.currentFun = currentFun;\r\n          this.addPeopleHeatMap({\r\n            time: \"morning\",\r\n            dom: document.querySelector(\"#heatMap\"),\r\n          });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      \"addRoad\",\r\n      \"destoryRoad\",\r\n      \"addPeopleHeatMap\",\r\n      \"destoryPeopleEntity\",\r\n    ]),\r\n    destoryPrevious() {\r\n      switch (this.currentFun) {\r\n        case \"road\":\r\n          this.destoryRoad();\r\n          this.currentFun = \"\";\r\n          break;\r\n        case \"people\":\r\n          this.destoryPeopleEntity();\r\n          this.currentFun = \"\";\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    peopleTimeChange(time) {\r\n      this.destoryPeopleEntity();\r\n      this.addPeopleHeatMap({\r\n        time: time,\r\n        dom: document.querySelector(\"#heatMap\"),\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.mapContainer {\r\n  position: absolute;\r\n  margin: 0;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.WeatherContainer {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n}\r\n\r\n/* 时间切换位置 */\r\n.timeChangeContainer {\r\n  position: absolute;\r\n  right: 3vw;\r\n  top: 5vh;\r\n}\r\n\r\n.timeChangeContainerAni-enter,\r\n.timeChangeContainerAni-leave-to {\r\n  transform: translateX(400px);\r\n  opacity: 0;\r\n}\r\n\r\n.timeChangeContainerAni-enter-active {\r\n  transition: all 1s;\r\n}\r\n\r\n.timeChangeContainerAni-leave-active {\r\n  transition: all 0.5s;\r\n}\r\n\r\n.timeChangeContainerAni-enter-to {\r\n  opacity: 1;\r\n}\r\n\r\n#heatMap {\r\n  width: 400px;\r\n  height: 400px;\r\n}\r\n\r\n/* 人流量 */\r\n.peopleTimeChangeContainer {\r\n  position: absolute;\r\n  right: 3vw;\r\n  top: 5vh;\r\n}\r\n/* 热力图标签 */\r\n.HeatMapLabelContainer{\r\n  position: absolute;\r\n  right: 3vw;\r\n  bottom: 5vh;\r\n}\r\n</style>\r\n"]}]}